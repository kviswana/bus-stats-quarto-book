range(x1)
mean(x2)
range(x2)
Boston_marathon |> slice_sample(n = 20)
?slice_sample
Boston_marathon
?Boston_marathon
x <- c(4, 5, 7, 1, 8, 4, 3, 9, 5, 3)
mean(x)
x <- c(4, 5, 7, 1, 8, 4, 3, 9, 5, 4)
mean(x)
calc_diff_table <- function(guess_type = c("random", "Optimal")) {
guess_type <- match.arg(guess_type)
# Generate nums until the average is a whole number
repeat {
nums <- sample(10:50, 10, replace = TRUE)
if (mean(nums) %% 1 == 0) break
}
choices <- integer(20)
guesses <- numeric(20)
diffs <- numeric(20)
avg_val <- mean(nums)
for (i in 1:20) {
choice <- sample(nums, 1)
guess <- if (guess_type == "random") sample(nums, 1) else avg_val
diff_sqr <- (guess - choice)^2
choices[i] <- choice
guesses[i] <- guess
diffs[i] <- diff_sqr
}
# Build markdown table
lines <- character(0)
lines <- c(lines, "| number | guess | diff_sqr |")
lines <- c(lines, "|---:|---:|---:|")
for (i in 1:20) {
lines <- c(lines, sprintf("| %d | %s | %s |",
choices[i],
guesses[i],
diffs[i]))
}
lines <- c(lines, sprintf("| **Total** |  | %s |", sum(diffs)))
paste(lines, collapse = "\n")
}
calc_diff_table <- function(guess_type = c("Random", "Optimal")) {
guess_type <- match.arg(guess_type)
# Generate nums until the average is a whole number
repeat {
nums <- sample(10:50, 10, replace = TRUE)
if (mean(nums) %% 1 == 0) break
}
choices <- integer(20)
guesses <- numeric(20)
diffs <- numeric(20)
avg_val <- mean(nums)
for (i in 1:20) {
choice <- sample(nums, 1)
guess <- if (guess_type == "Random") sample(nums, 1) else avg_val
diff_sqr <- (guess - choice)^2
choices[i] <- choice
guesses[i] <- guess
diffs[i] <- diff_sqr
}
# Build markdown table
lines <- character(0)
lines <- c(lines, "| number | guess | diff_sqr |")
lines <- c(lines, "|---:|---:|---:|")
for (i in 1:20) {
lines <- c(lines, sprintf("| %d | %s | %s |",
choices[i],
guesses[i],
diffs[i]))
}
lines <- c(lines, sprintf("| **Total** |  | %s |", sum(diffs)))
paste(lines, collapse = "\n")
}
calc_diff_table("Random")
tab <- calc_diff_table("Random")
tab
print(tab)
tab_md <- gsub("\\\\n", "\n", tab)   # note: "\\\\n" matches a literal "\n"
cat(tab_md)
generate_random_numbers <- function() {
# Generate nums until the average is a whole number
repeat {
nums <- sample(10:50, 10, replace = TRUE)
if (mean(nums) %% 1 == 0) break
}
nums
}
x <- generate_random_numbers()
x
mean(x)
x
mean(x)
x <- generate_random_numbers()
mean(x)
x <- generate_random_numbers()
mean(x)
md <- calc_diff_table(x, "Random")
generate_random_numbers <- function() {
# Generate nums until the average is a whole number
repeat {
nums <- sample(10:50, 10, replace = TRUE)
if (mean(nums) %% 1 == 0) break
}
nums
}
calc_diff_table <- function(nums, guess_type = c("Random", "Optimal")) {
guess_type <- match.arg(guess_type)
choices <- integer(20)
guesses <- numeric(20)
diffs <- numeric(20)
avg_val <- mean(nums)
for (i in 1:20) {
choice <- sample(nums, 1)
guess <- if (guess_type == "Random") sample(nums, 1) else avg_val
diff_sqr <- (guess - choice)^2
choices[i] <- choice
guesses[i] <- guess
diffs[i] <- diff_sqr
}
# Build markdown table
lines <- character(0)
lines <- c(lines, "| number | guess | diff_sqr |")
lines <- c(lines, "|---:|---:|---:|")
for (i in 1:20) {
lines <- c(lines, sprintf("| %d | %s | %s |",
choices[i],
guesses[i],
diffs[i]))
}
lines <- c(lines, sprintf("| **Total** |  | %s |", sum(diffs)))
paste(lines, collapse = "\n")
}
md <- calc_diff_table(x, "Random")
md
calc_diff_table <- function(nums, guess_type = c("Random", "Optimal")) {
guess_type <- match.arg(guess_type)
choices <- integer(20)
guesses <- numeric(20)
diffs <- numeric(20)
avg_val <- mean(nums)
for (i in 1:20) {
choice <- sample(nums, 1)
guess <- if (guess_type == "Random") sample(nums, 1) else avg_val
diff_sqr <- (guess - choice)^2
choices[i] <- choice
guesses[i] <- guess
diffs[i] <- diff_sqr
}
# Build markdown table
lines <- character(0)
lines <- c(lines, "| number | guess | diff_sqr |")
lines <- c(lines, "|---:|---:|---:|")
for (i in 1:20) {
lines <- c(lines, sprintf("| %d | %s | %s |",
choices[i],
guesses[i],
diffs[i]))
}
lines <- c(lines, sprintf("| **Total** |  | %s |", sum(diffs)))
paste(lines, collapse = "\\\\n")
}
md <- calc_diff_table(x, "Random")
md
cat(md)
generate_random_numbers <- function() {
# Generate nums until the average is a whole number
repeat {
nums <- sample(10:50, 10, replace = TRUE)
if (mean(nums) %% 1 == 0) break
}
nums
}
calc_diff_table <- function(nums, guess_type = c("Random", "Optimal")) {
guess_type <- match.arg(guess_type)
choices <- integer(20)
guesses <- numeric(20)
diffs <- numeric(20)
avg_val <- mean(nums)
for (i in 1:20) {
choice <- sample(nums, 1)
guess <- if (guess_type == "Random") sample(nums, 1) else avg_val
diff_sqr <- (guess - choice)^2
choices[i] <- choice
guesses[i] <- guess
diffs[i] <- diff_sqr
}
# Build markdown table
lines <- character(0)
lines <- c(lines, "| number | guess | diff_sqr |")
lines <- c(lines, "|---:|---:|---:|")
for (i in 1:20) {
lines <- c(lines, sprintf("| %d | %s | %s |",
choices[i],
guesses[i],
diffs[i]))
}
lines <- c(lines, sprintf("| **Total** |  | %s |", sum(diffs)))
paste(lines, collapse = "\n")
}
generate_random_numbers <- function() {
# Generate nums until the average is a whole number
repeat {
nums <- sample(10:50, 10, replace = TRUE)
if (mean(nums) %% 1 == 0) break
}
nums
}
calc_diff_table <- function(nums, guess_type = c("Random", "Optimal")) {
guess_type <- match.arg(guess_type)
choices <- integer(20)
guesses <- numeric(20)
diffs <- numeric(20)
avg_val <- mean(nums)
for (i in 1:20) {
choice <- sample(nums, 1)
guess <- if (guess_type == "Random") sample(nums, 1) else avg_val
diff_sqr <- (guess - choice)^2
choices[i] <- choice
guesses[i] <- guess
diffs[i] <- diff_sqr
}
# Build markdown table
lines <- character(0)
lines <- c(lines, "| number | guess | diff_sqr |")
lines <- c(lines, "|---:|---:|---:|")
for (i in 1:20) {
lines <- c(lines, sprintf("| %d | %s | %s |",
choices[i],
guesses[i],
diffs[i]))
}
lines <- c(lines, sprintf("| **Total** |  | %s |", sum(diffs)))
paste(lines, collapse = "\n")
}
run_expwriment <- function(nums, num_rand_trials) {
mds <- character(num_rand_trials + 1)
for (i in 1:num_rand_trials) {
mds[i] = gsub("\\\\n", "\n", calc_diff_table(nums, "Random"))
}
mds[num_rand_trials + 1] = gsub("\\\\n", "\n", calc_diff_table(nums, "Optimal"))
mds
}
generate_random_numbers <- function() {
# Generate nums until the average is a whole number
repeat {
nums <- sample(10:50, 10, replace = TRUE)
if (mean(nums) %% 1 == 0) break
}
nums
}
calc_diff_table <- function(nums, guess_type = c("Random", "Optimal")) {
guess_type <- match.arg(guess_type)
choices <- integer(20)
guesses <- numeric(20)
diffs <- numeric(20)
avg_val <- mean(nums)
for (i in 1:20) {
choice <- sample(nums, 1)
guess <- if (guess_type == "Random") sample(nums, 1) else avg_val
diff_sqr <- (guess - choice)^2
choices[i] <- choice
guesses[i] <- guess
diffs[i] <- diff_sqr
}
# Build markdown table
lines <- character(0)
lines <- c(lines, "| number | guess | diff_sqr |")
lines <- c(lines, "|---:|---:|---:|")
for (i in 1:20) {
lines <- c(lines, sprintf("| %d | %s | %s |",
choices[i],
guesses[i],
diffs[i]))
}
lines <- c(lines, sprintf("| **Total** |  | %s |", sum(diffs)))
paste(lines, collapse = "\n")
}
run_expwriment <- function(num_rand_trials) {
nums <- generate_random_numbers()
mds <- character(num_rand_trials + 1)
for (i in 1:num_rand_trials) {
mds[i] = gsub("\\\\n", "\n", calc_diff_table(nums, "Random"))
}
mds[num_rand_trials + 1] = gsub("\\\\n", "\n", calc_diff_table(nums, "Optimal"))
mds
}
run_experiment()
run_experiment <- function(num_rand_trials) {
nums <- generate_random_numbers()
mds <- character(num_rand_trials + 1)
for (i in 1:num_rand_trials) {
mds[i] = gsub("\\\\n", "\n", calc_diff_table(nums, "Random"))
}
mds[num_rand_trials + 1] = gsub("\\\\n", "\n", calc_diff_table(nums, "Optimal"))
mds
}
run_experiment()
run_experiment(10)
mds <- run_experiment(10)
cat(mds[1])
cat(mds[10])
cat(mds[11])
cat(mds[1])
cat(mds[2])
cat(mds[3])
cat(mds[4])
cat(mds[5])
cat(mds[6])
cat(mds[7])
cat(mds[8])
cat(mds[9])
cat(mds[10])
cat(mds[11])
calc_diff <- function(nums, guess_type = c("Random", "Optimal")) {
guess_type <- match.arg(guess_type)
choices <- integer(20)
guesses <- numeric(20)
diffs <- numeric(20)
avg_val <- mean(nums)
for (i in 1:20) {
choice <- sample(nums, 1)
guess <- if (guess_type == "Random") sample(nums, 1) else avg_val
diff_sqr <- (guess - choice)^2
choices[i] <- choice
guesses[i] <- guess
diffs[i] <- diff_sqr
}
sum(diffs)
}
run_experiment <- function(num_rand_trials) {
nums <- generate_random_numbers()
sse <- integer(num_rand_trials + 1)
for (i in 1:num_rand_trials) {
sse[i] = calc_diff(nums, "Random"))
calc_diff <- function(nums, guess_type = c("Random", "Optimal")) {
guess_type <- match.arg(guess_type)
choices <- integer(20)
guesses <- numeric(20)
diffs <- numeric(20)
avg_val <- mean(nums)
for (i in 1:20) {
choice <- sample(nums, 1)
guess <- if (guess_type == "Random") sample(nums, 1) else avg_val
diff_sqr <- (guess - choice)^2
choices[i] <- choice
guesses[i] <- guess
diffs[i] <- diff_sqr
}
sum(diffs)
}
run_experiment <- function(num_rand_trials) {
nums <- generate_random_numbers()
sse <- integer(num_rand_trials + 1)
for (i in 1:num_rand_trials) {
sse[i] = calc_diff(nums, "Random")
}
sse[num_rand_trials + 1] = calc_diff(nums, "Optimal"))
run_experiment <- function(num_rand_trials) {
nums <- generate_random_numbers()
sse <- integer(num_rand_trials + 1)
for (i in 1:num_rand_trials) {
sse[i] = calc_diff(nums, "Random")
}
sse[num_rand_trials + 1] = calc_diff(nums, "Optimal")
sse
}
run_experiment(10)
run_experiment(100)
hist(run_experiment(100))
x <- run_experiment(100)
x
min(x)
x <- run_experiment(100)
x
min(x)
hist(x)
Boston_marathon |>
point_plot(time ~ 1, annot = "violin")
library(LSTbook)
Boston_marathon |>
point_plot(time ~ 1, annot = "violin")
Boston_marathon |>
point_plot(minutes ~ 1, annot = "violin")
price_demans |>
point_plot(price ~ 1, annot = "violin")
price_demand |>
point_plot(price ~ 1, annot = "violin")
library(readr)
price_demand <- read_csv("lst-extras-datasets/price_demand.csv")
View(price_demand)
price_demand |>
point_plot(price ~ 1, annot = "violin")
price_demand |>
point_plot(price ~ 1, annot = "violin")
price_demand |>
point_plot(price ~ 1, annot = "violin", point_ink = 0)
library(readr)
acct_type_balance <- read_csv("lst-extras-datasets/acct_type_balance.csv")
View(acct_type_balance)
acct_type_balance |>
point_plot(balance ~ 1, annot = "violin")
library(readr)
advertising_sales_channel <- read_csv("lst-extras-datasets/advertising_sales_channel.csv")
View(advertising_sales_channel)
advertising_sales_channel |>
point_plot(advertising_spend_k ~ 1, annot = "violin")
advertising_sales_channel |>
point_plot(weekly_sales_k ~ 1, annot = "violin")
advertising_sales_channel |>
point_plot(advertising_spend_k ~ 1, annot = "violin")
advertising_sales_channel |>
point_plot(weekly_sales_k ~ 1, annot = "violin")
advertising_sales_channel |>
point_plot(advertising_spend_k ~ 1, annot = "violin")
acct_type_balance |>
point_plot(balance ~ bank_account_type, annot = "violin")
mpg |>
point_plot(cty ~ class, annot = "violin")
advertising_sales_channel |>
point_plot(weekly_sales ~ channel, annot = "violin")
advertising_sales_channel |>
point_plot(weekly_sales_k ~ channel, annot = "violin")
mpg |>
summarize(cty_sd = sd(cty))
mpg |>
summarize(cty_var = var(cty), cty_sd = sd(cty))
4.26*4.26
set.seed(123)
n <- 100
# Age of home (years)
age <- round(runif(n, min = 0, max = 70))
# Floor area (sq ft), loosely increasing with newer homes
floor_area_sqft <- round(
rnorm(
n,
mean = 1800 + (20 - age) * 5,
sd = 400
)
)
floor_area_sqft <- pmax(floor_area_sqft, 900)
# Number of bedrooms
number_of_bedrooms <- pmin(
pmax(round(floor_area_sqft / 500), 2),
5
)
# Number of bathrooms
no_of_bathrooms <- pmin(
pmax(
number_of_bedrooms - rbinom(n, 1, 0.4),
1
),
4
)
# Price model (East Brunswickâ€“style suburban pricing)
price <- round(
120000 +
floor_area_sqft * 320 +
number_of_bedrooms * 15000 +
no_of_bathrooms * 25000 -
age * 1800 +
rnorm(n, 0, 40000),
-3
)
homes <- data.frame(
age,
floor_area_sqft,
number_of_bedrooms,
no_of_bathrooms,
price
)
# Inspect
summary(homes)
View(homes)
write_csv(homes, "lst-extras-datasets/homes.csv")
homes |>
model_train(price ~ floor_area_sqft) |>
conf_interval()
homes |>
model_train(price ~ floor_area_sqft) |>
R2()
61399 + 1480*395
61399 + 1293*395
homes |>
filter(between(price, 1450, 1550))
homes
homes |>
filter(between(floor_area_sqft, 1430, 1530))
homes |>
filter(floor_area_sqft >= 1430 & floor_area_sqft <= 1530))
homes |>
filter(floor_area_sqft >= 1430 & floor_area_sqft <= 1530)
names(homes)
homes
library(LSTbook)
homes |>
filter(floor_area_sqft >= 1430 & floor_area_sqft <= 1530)
homes |>
filter(floor_area_sqft >= 1430 && floor_area_sqft <= 1530)
homes |>
filter(floor_area_sqft >= 1430, floor_area_sqft <= 1530)
library(dplyr)
homes |>
filter(floor_area_sqft >= 1430, floor_area_sqft <= 1530)
homes |>
dplyr::filter(floor_area_sqft >= 1430, floor_area_sqft <= 1530)
homes |>
dplyr::filter(floor_area_sqft >= 1430, floor_area_sqft <= 1530) |>
summarize(min(price), max(price))
mean(homes$price)
hist(homes$price)
